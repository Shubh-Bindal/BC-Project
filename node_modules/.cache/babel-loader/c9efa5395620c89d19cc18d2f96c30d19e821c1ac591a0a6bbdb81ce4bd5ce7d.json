{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sreedeva\\\\Desktop\\\\block_dao\\\\src\\\\components\\\\Banner.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { useGlobalState, setGlobalState } from '../store';\nimport { toast } from 'react-toastify';\nimport { performContribute } from '../Blockchain.services';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Banner = () => {\n  _s();\n  const [isStakeholder] = useGlobalState('isStakeholder');\n  const [proposals] = useGlobalState('proposals');\n  const [balance] = useGlobalState('balance');\n  const [mybalance] = useGlobalState('mybalance');\n  const [amount, setAmount] = useState('');\n  const onPropose = () => {\n    if (!isStakeholder) return;\n    setGlobalState('createModal', 'scale-100');\n  };\n  const onContribute = async () => {\n    if (!!!amount || amount == '') return;\n    await performContribute(amount);\n    toast.success('Contribution received');\n  };\n  const opened = () => proposals.filter(proposal => new Date().getTime() < Number(proposal.duration + '000')).length;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"font-semibold text-3xl mb-5\",\n      children: [opened(), \" Proposal\", opened() == 1 ? '' : 's', \" Currently Opened\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Current DAO Balance: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: [balance, \" Eth\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 30\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 61\n      }, this), \"Your contributions:\", ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [mybalance, \" Eth\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this), isStakeholder ? ', and you are now a stakeholder ðŸ˜Š' : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n      className: \"my-6 border-gray-300 dark:border-gray-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: isStakeholder ? 'You can now raise proposals on this platform ðŸ˜†' : 'Hey, when you contribute upto 1 ether you become a stakeholder ðŸ˜Ž'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-row justify-start items-center md:w-1/3 w-full mt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        className: \"form-control block w-full px-3 py-1.5\\r text-base font-normaltext-gray-700\\r bg-clip-padding border border-solid border-gray-300\\r rounded transition ease-in-out m-0 shadow-md\\r focus:text-gray-500 focus:outline-none\\r dark:border-gray-500 dark:bg-transparent\",\n        placeholder: \"e.g 2.5 Eth\",\n        onChange: e => setAmount(e.target.value),\n        value: amount,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-row justify-start items-center space-x-3 mt-4\",\n      role: \"group\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: `inline-block px-6 py-2.5\n          bg-blue-600 text-white font-medium text-xs\n          leading-tight uppercase shadow-md rounded-full\n          hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700\n          focus:shadow-lg focus:outline-none focus:ring-0\n          active:bg-blue-800 active:shadow-lg transition\n          duration-150 ease-in-out dark:text-blue-500\n          dark:border dark:border-blue-500 dark:bg-transparent`,\n        \"data-mdb-ripple\": \"true\",\n        \"data-mdb-ripple-color\": \"light\",\n        onClick: onContribute,\n        children: \"Contribute\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), isStakeholder ? /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: `inline-block px-6 py-2.5\n            bg-blue-600 text-white font-medium text-xs\n            leading-tight uppercase shadow-md rounded-full\n            hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700\n            focus:shadow-lg focus:outline-none focus:ring-0\n            active:bg-blue-800 active:shadow-lg transition\n            duration-150 ease-in-out dark:text-blue-500\n            dark:border dark:border-blue-500 dark:bg-transparent`,\n        \"data-mdb-ripple\": \"true\",\n        \"data-mdb-ripple-color\": \"light\",\n        onClick: onPropose,\n        children: \"Propose\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n_s(Banner, \"IfffYc1CE6rRI9FEHK6a5G3CuTI=\", false, function () {\n  return [useGlobalState, useGlobalState, useGlobalState, useGlobalState];\n});\n_c = Banner;\nexport default Banner;\nvar _c;\n$RefreshReg$(_c, \"Banner\");","map":{"version":3,"names":["useState","useGlobalState","setGlobalState","toast","performContribute","Banner","isStakeholder","proposals","balance","mybalance","amount","setAmount","onPropose","onContribute","success","opened","filter","proposal","Date","getTime","Number","duration","length","e","target","value"],"sources":["C:/Users/Sreedeva/Desktop/block_dao/src/components/Banner.jsx"],"sourcesContent":["import { useState } from 'react'\r\nimport { useGlobalState, setGlobalState } from '../store'\r\nimport { toast } from 'react-toastify'\r\nimport { performContribute } from '../Blockchain.services'\r\n\r\nconst Banner = () => {\r\n  const [isStakeholder] = useGlobalState('isStakeholder')\r\n  const [proposals] = useGlobalState('proposals')\r\n  const [balance] = useGlobalState('balance')\r\n  const [mybalance] = useGlobalState('mybalance')\r\n  const [amount, setAmount] = useState('')\r\n\r\n  const onPropose = () => {\r\n    if (!isStakeholder) return\r\n    setGlobalState('createModal', 'scale-100')\r\n  }\r\n\r\n  const onContribute = async () => {\r\n    if (!!!amount || amount == '') return\r\n    await performContribute(amount)\r\n    toast.success('Contribution received')\r\n  }\r\n\r\n  const opened = () =>\r\n    proposals.filter(\r\n      (proposal) => new Date().getTime() < Number(proposal.duration + '000'),\r\n    ).length\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <h2 className=\"font-semibold text-3xl mb-5\">\r\n        {opened()} Proposal{opened() == 1 ? '' : 's'} Currently Opened\r\n      </h2>\r\n      <p>\r\n        Current DAO Balance: <strong>{balance} Eth</strong> <br />\r\n        Your contributions:{' '}\r\n        <span>\r\n          <strong>{mybalance} Eth</strong>\r\n          {isStakeholder ? ', and you are now a stakeholder ðŸ˜Š' : null}\r\n        </span>\r\n      </p>\r\n      <hr className=\"my-6 border-gray-300 dark:border-gray-500\" />\r\n      <p>\r\n        {isStakeholder\r\n          ? 'You can now raise proposals on this platform ðŸ˜†'\r\n          : 'Hey, when you contribute upto 1 ether you become a stakeholder ðŸ˜Ž'}\r\n      </p>\r\n      <div className=\"flex flex-row justify-start items-center md:w-1/3 w-full mt-4\">\r\n        <input\r\n          type=\"number\"\r\n          className=\"form-control block w-full px-3 py-1.5\r\n          text-base font-normaltext-gray-700\r\n          bg-clip-padding border border-solid border-gray-300\r\n          rounded transition ease-in-out m-0 shadow-md\r\n          focus:text-gray-500 focus:outline-none\r\n          dark:border-gray-500 dark:bg-transparent\"\r\n          placeholder=\"e.g 2.5 Eth\"\r\n          onChange={(e) => setAmount(e.target.value)}\r\n          value={amount}\r\n          required\r\n        />\r\n      </div>\r\n      <div\r\n        className=\"flex flex-row justify-start items-center space-x-3 mt-4\"\r\n        role=\"group\"\r\n      >\r\n        <button\r\n          type=\"button\"\r\n          className={`inline-block px-6 py-2.5\r\n          bg-blue-600 text-white font-medium text-xs\r\n          leading-tight uppercase shadow-md rounded-full\r\n          hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700\r\n          focus:shadow-lg focus:outline-none focus:ring-0\r\n          active:bg-blue-800 active:shadow-lg transition\r\n          duration-150 ease-in-out dark:text-blue-500\r\n          dark:border dark:border-blue-500 dark:bg-transparent`}\r\n          data-mdb-ripple=\"true\"\r\n          data-mdb-ripple-color=\"light\"\r\n          onClick={onContribute}\r\n        >\r\n          Contribute\r\n        </button>\r\n\r\n        {isStakeholder ? (\r\n          <button\r\n            type=\"button\"\r\n            className={`inline-block px-6 py-2.5\r\n            bg-blue-600 text-white font-medium text-xs\r\n            leading-tight uppercase shadow-md rounded-full\r\n            hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700\r\n            focus:shadow-lg focus:outline-none focus:ring-0\r\n            active:bg-blue-800 active:shadow-lg transition\r\n            duration-150 ease-in-out dark:text-blue-500\r\n            dark:border dark:border-blue-500 dark:bg-transparent`}\r\n            data-mdb-ripple=\"true\"\r\n            data-mdb-ripple-color=\"light\"\r\n            onClick={onPropose}\r\n          >\r\n            Propose\r\n          </button>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Banner\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}